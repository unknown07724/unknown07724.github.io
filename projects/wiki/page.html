<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memepedia - Page</title>
<link rel="icon" href="favicon.png">
<style>
  body { margin: 0; display: flex; font-family: Arial, sans-serif; height: 100vh; }
  #sidebar { width: 250px; background: #eee; padding: 15px; box-sizing: border-box; overflow-y: auto; }
  #sidebar h2 { margin-top: 0; }
  #sidebar a, #sidebar button { display: block; padding: 8px; margin: 5px 0; text-decoration: none; background: #ddd; border: none; border-radius: 5px; color: black; cursor: pointer; }
  #sidebar a:hover, #sidebar button:hover { background: #ccc; }
  #content { flex: 1; border: none; height: 100%; }
</style>
</head>
<body>

<div id="sidebar">
<img src="logo.svg" alt="Memepedia logo" width="175" height="175">
  <a href="index.html">Main page</a>
  <a href="edit.html">Create a page</a>
  <button id="editBtn">Edit This Page</button>
  <a href="upload.html">Upload Image</a>
</div>

<iframe id="content" src="" name="contentFrame"></iframe>

<script>
  const githubBase = 'https://unknown07724.github.io/projects/wiki/pages/';

  // Get the page from URL search param
  function getPageParam() {
    const params = new URLSearchParams(window.location.search);
    return params.get('page') || 'memepedia'; // default page
  }

  // Load the page in the iframe
  function loadPage() {
    const page = getPageParam();
    document.getElementById('content').src = `${githubBase}${page}.html`;
  }

  // Edit button opens edit.html for the current page
  document.getElementById('editBtn').addEventListener('click', () => {
    const page = getPageParam();
    window.open(`edit.html?page=${page}`, '_blank'); // can be modal later
  });

  // Initialize
  window.addEventListener('load', loadPage);
  window.addEventListener('popstate', loadPage); // optional, handles back/forward
</script>

</body>
</html>
